// Datos de carreras con sus cÃ³digos RIASEC
export const carrerasRiasec = [
  { nombre: "IngenierÃ­a BiomÃ©dica", riasec: "IRS" },
  { nombre: "IngenierÃ­a en BiotecnologÃ­a", riasec: "IRC" },
  { nombre: "Licenciatura en BiologÃ­a", riasec: "IR" },
  { nombre: "Licenciatura en Cirujano Dentista", riasec: "RI" },
  { nombre: "Licenciatura en Cultura FÃ­sica y Deportes", riasec: "RSE" },
  { nombre: "Licenciatura en EnfermerÃ­a", riasec: "SRC" },
  { nombre: "Licenciatura en EnfermerÃ­a Modalidad Mixta (Ejecutiva)", riasec: "SRC" },
  { nombre: "Licenciatura en Fisioterapia", riasec: "SR" },
  { nombre: "Licenciatura en Medicina", riasec: "ISR" },
  { nombre: "Licenciatura en Medicina Veterinaria y Zootecnia", riasec: "RIS" },
  { nombre: "Licenciatura en NutriciÃ³n", riasec: "SIC" },
  { nombre: "Licenciatura en PsicologÃ­a", riasec: "SI" },
  { nombre: "Licenciatura en QuÃ­mico FarmacÃ©utico BiÃ³logo", riasec: "ICR" },
  { nombre: "Licenciatura en Ciencias de la ComunicaciÃ³n", riasec: "ASE" },
  { nombre: "Licenciatura en CriminologÃ­a", riasec: "ISC" },
  { nombre: "Licenciatura en Derecho", riasec: "SEC" },
  { nombre: "Licenciatura en EducaciÃ³n", riasec: "SE" },
  { nombre: "Licenciatura en FilosofÃ­a", riasec: "IS" },
  { nombre: "Licenciatura en Historia", riasec: "ICS" },
  { nombre: "Licenciatura en Lengua y Literatura HispÃ¡nica", riasec: "AIS" },
  { nombre: "Licenciatura en Lenguas Extranjeras", riasec: "AIS" },
  { nombre: "Licenciatura en PedagogÃ­a", riasec: "SC" },
  { nombre: "Licenciatura en Relaciones Internacionales", riasec: "ESI" },
  { nombre: "Licenciatura en Seguridad PÃºblica", riasec: "RES" },
  { nombre: "Licenciatura en SociologÃ­a", riasec: "IS" },
  { nombre: "Licenciatura en Arquitectura", riasec: "AR" },
  { nombre: "Licenciatura en DiseÃ±o de Interiores", riasec: "ARE" },
  { nombre: "Licenciatura en DiseÃ±o de Modas", riasec: "AES" },
  { nombre: "Licenciatura en DiseÃ±o GrÃ¡fico y ComunicaciÃ³n Visual", riasec: "AE" },
  { nombre: "Licenciatura en DiseÃ±o Industrial", riasec: "ARI" },
  { nombre: "Licenciatura en DiseÃ±o, AnimaciÃ³n y Arte Digital", riasec: "AR" },
  { nombre: "Licenciatura en ActuarÃ­a", riasec: "CRI" },
  { nombre: "Licenciatura en AdministraciÃ³n de Empresas", riasec: "ECS" },
  { nombre: "Licenciatura en AdministraciÃ³n de Empresas de Entretenimiento y ComunicaciÃ³n", riasec: "ESA" },
  { nombre: "Licenciatura en AdministraciÃ³n de Empresas TurÃ­sticas", riasec: "ESC" },
  { nombre: "Licenciatura en AdministraciÃ³n de Recursos Humanos", riasec: "SEC" },
  { nombre: "Licenciatura en AdministraciÃ³n Financiera", riasec: "CE" },
  { nombre: "Licenciatura en AdministraciÃ³n PÃºblica", riasec: "SEC" },
  { nombre: "Licenciatura en Comercio Internacional", riasec: "EC" },
  { nombre: "Licenciatura en ComunicaciÃ³n y Medios", riasec: "AES" },
  { nombre: "Licenciatura en ContadurÃ­a PÃºblica", riasec: "CE" },
  { nombre: "Licenciatura en ContadurÃ­a PÃºblica y Finanzas", riasec: "CE" },
  { nombre: "Licenciatura en EconomÃ­a", riasec: "ICE" },
  { nombre: "Licenciatura en EconomÃ­a y Finanzas", riasec: "CEI" },
  { nombre: "Licenciatura en Finanzas", riasec: "CEI" },
  { nombre: "Licenciatura en GestiÃ³n de Ventas y ComercializaciÃ³n", riasec: "ESC" },
  { nombre: "Licenciatura en Mercadotecnia", riasec: "ESA" },
  { nombre: "Licenciatura en Mercadotecnia Digital y Publicidad", riasec: "AES" },
  { nombre: "Licenciatura en Negocios Internacionales", riasec: "ESC" },
  { nombre: "Licenciatura en Publicidad y Medios", riasec: "AES" },
  { nombre: "IngenierÃ­a Ambiental y EnergÃ­as Renovables", riasec: "IRS" },
  { nombre: "IngenierÃ­a Civil", riasec: "RIC" },
  { nombre: "IngenierÃ­a en Ciencia de Datos", riasec: "ICR" },
  { nombre: "IngenierÃ­a en ElectrÃ³nica", riasec: "RIC" },
  { nombre: "IngenierÃ­a en ElectrÃ³nica y Telecomunicaciones", riasec: "RIC" },
  { nombre: "IngenierÃ­a en GestiÃ³n de Negocios", riasec: "ECI" },
  { nombre: "IngenierÃ­a en LogÃ­stica", riasec: "CIR" },
  { nombre: "IngenierÃ­a en RobÃ³tica y Sistemas Digitales", riasec: "RIC" },
  { nombre: "IngenierÃ­a en Sistemas Computacionales", riasec: "IRC" },
  { nombre: "IngenierÃ­a en Sistemas de Software", riasec: "IRC" },
  { nombre: "IngenierÃ­a en Videojuegos", riasec: "AIR" },
  { nombre: "IngenierÃ­a Industrial y AdministraciÃ³n", riasec: "RCE" },
  { nombre: "IngenierÃ­a Industrial y de Sistemas", riasec: "RCI" },
  { nombre: "IngenierÃ­a MecatrÃ³nica", riasec: "RIC" },
  { nombre: "IngenierÃ­a MecÃ¡nica", riasec: "RI" },
  { nombre: "IngenierÃ­a QuÃ­mica", riasec: "IRC" },
  { nombre: "Licenciatura en FÃ­sica Aplicada", riasec: "IRC" },
  { nombre: "Licenciatura en IngenierÃ­a en TecnologÃ­as de la InformaciÃ³n", riasec: "IRC" },
  { nombre: "Licenciatura en AdministraciÃ³n TurÃ­stica y Reuniones Internacionales", riasec: "ESC" },
  { nombre: "Licenciatura en GastronomÃ­a", riasec: "RAS" },
];

// FunciÃ³n para obtener RIASEC de una carrera (bÃºsqueda flexible)
export const obtenerRiasecCarrera = (nombreCarrera: string): string | null => {
  if (!nombreCarrera || nombreCarrera.trim() === "") {
    console.warn("âŒ obtenerRiasecCarrera: nombreCarrera vacÃ­o o invÃ¡lido");
    return null;
  }
  
  const carreraLower = nombreCarrera.toLowerCase().trim();
  console.log("ğŸ” Buscando carrera:", carreraLower);
  console.log("ğŸ“‹ Total de carreras en BD:", carrerasRiasec.length);
  
  // Primero intentar coincidencia exacta
  let carrera = carrerasRiasec.find(
    c => c.nombre.toLowerCase() === carreraLower
  );
  
  if (carrera) {
    console.log("âœ… EXACTA encontrada:", carrera.nombre, "â†’", carrera.riasec);
    return carrera.riasec;
  }
  
  console.log("âš ï¸ No hay exacta, buscando PARCIAL...");
  
  // Si no hay coincidencia exacta, buscar por contiene (parcial)
  if (!carrera) {
    carrera = carrerasRiasec.find(
      c => c.nombre.toLowerCase().includes(carreraLower) || 
           carreraLower.includes(c.nombre.toLowerCase())
    );
  }
  
  if (carrera) {
    console.log("âœ… PARCIAL encontrada:", carrera.nombre, "â†’", carrera.riasec);
    return carrera.riasec;
  }
  
  console.error("âŒ NO ENCONTRADA. Buscando:", nombreCarrera);
  console.log("ğŸ“‹ Primeras 10 carreras en BD:");
  carrerasRiasec.slice(0, 10).forEach(c => {
    console.log(`   â€¢ "${c.nombre}"`);
  });
  
  return null;
};

// FunciÃ³n para verificar si el resultado RIASEC del usuario contiene todas las letras de su carrera
export const verificarAlineacionRiasec = (
  resultadoUsuario: string,
  riasecCarrera: string
): { alineado: boolean; faltantes: string[] } => {
  const faltantes: string[] = [];
  
  for (const letra of riasecCarrera) {
    if (!resultadoUsuario.includes(letra)) {
      faltantes.push(letra);
    }
  }
  
  return {
    alineado: faltantes.length === 0,
    faltantes
  };
};
