#!/bin/bash
# ğŸ”§ Script para prueba de DETECCIÃ“N DE CRISIS
# Este script muestra cÃ³mo testear la detecciÃ³n de crisis directamente

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  GUÃA DE PRUEBA: DETECCIÃ“N DE MENSAJES DE CRISIS"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "1. ABRE LA APLICACIÃ“N EN EL NAVEGADOR"
echo "   URL: http://localhost:5173/ (o tu URL de staging)"
echo ""
echo "2. ABRE LA CONSOLA DEL NAVEGADOR"
echo "   Atajo: F12 â†’ Tab 'Console'"
echo ""
echo "3. INGRESA A LA SECCIÃ“N DE AGENTE (Agent.tsx)"
echo "   â€¢ Completa la autenticaciÃ³n"
echo "   â€¢ VerÃ¡s el chat con Gero"
echo ""
echo "4. ESCRIBE UNO DE ESTOS MENSAJES (COPIAR Y PEGAR):"
echo ""
echo "â•â•â• PRUEBAS DE RIESGO EXTREMO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "  Test 1 - IdeaciÃ³n suicida bÃ¡sica:"
echo "    â†’ 'me quiero suicidar'"
echo "    Respuesta esperada: EXTREME RISK DETECTED"
echo ""
echo "  Test 2 - Intento futuro:"
echo "    â†’ 'voy a suicidarme'"
echo "    Respuesta esperada: EXTREME RISK DETECTED"
echo ""
echo "  Test 3 - Desespero total:"
echo "    â†’ 'no puedo mÃ¡s, no aguanto esto'"
echo "    Respuesta esperada: EXTREME RISK DETECTED"
echo ""
echo "  Test 4 - Vida sin sentido:"
echo "    â†’ 'mejor si no estuviera aquÃ­'"
echo "    Respuesta esperada: EXTREME RISK DETECTED"
echo ""
echo "â•â•â• PRUEBAS DE RIESGO ALTO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "  Test 5 - DepresiÃ³n severa:"
echo "    â†’ 'estoy muy deprimido, todo es sin sentido'"
echo "    Respuesta esperada: HIGH RISK DETECTED"
echo ""
echo "  Test 6 - Ansiedad extrema:"
echo "    â†’ 'tengo ansiedad severa, no puedo respirar'"
echo "    Respuesta esperada: HIGH RISK DETECTED"
echo ""
echo "  Test 7 - Soledad extrema:"
echo "    â†’ 'nadie me quiere, estoy completamente solo'"
echo "    Respuesta esperada: HIGH RISK DETECTED"
echo ""
echo "  Test 8 - Sin esperanza:"
echo "    â†’ 'no tengo esperanza, no veo salida'"
echo "    Respuesta esperada: HIGH RISK DETECTED"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "5. VERIFICA EN LA CONSOLA DEL NAVEGADOR"
echo ""
echo "   DeberÃ­as ver un mensaje como:"
echo ""
echo "   âœ“ [CRISIS DETECTION] ğŸš¨ EXTREME RISK DETECTED: ['suicidarme'] in: 'me quiero suicidar'"
echo "   âœ“ [CRISIS DETECTION] âš ï¸ HIGH RISK DETECTED: ['deprimido'] in: '...'"
echo ""
echo "6. VERIFICA EL FLUJO"
echo ""
echo "   âœ“ El agente responde con mensaje de contenciÃ³n"
echo "   âœ“ Se marca como 'crisis_detected'"
echo "   âœ“ Se envÃ­a al backend para guardar en base de datos"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“Š PALABRAS CLAVE DISPONIBLES"
echo ""
echo "RIESGO EXTREMO (31 palabras):"
echo "  suicidio, suicidarme, me quiero suicidar, voy a suicidarme,"
echo "  matarme, quitarme la vida, no quiero vivir, desesperaciÃ³n,"
echo "  autolesiÃ³n, cortarme, lastimarme, ya no puedo, no puedo mÃ¡s,"
echo "  cansado/a de vivir, mejor si no estuviera, mejor muerto,"
echo "  sin razÃ³n para vivir, sin motivo para vivir, vida sin sentido,"
echo "  deseo de morir, quiero desaparecer, quiero irme, acabar con todo"
echo ""
echo "RIESGO ALTO (43 palabras):"
echo "  depresiÃ³n, deprimido/a, muy deprimido, ansiedad severa,"
echo "  ansiedad extrema, pÃ¡nico, ataque de pÃ¡nico, ataques de pÃ¡nico,"
echo "  quiero morir, todo es sin sentido, nada tiene sentido,"
echo "  soy un fracaso, soy inÃºtil, soy basura, no sirvo para nada,"
echo "  no merezco vivir, nadie me quiere, nadie me ama, estoy solo/a,"
echo "  me duele mucho, es insoportable, no aguanto esta vida,"
echo "  no puedo con esto, todo me afecta mucho, he fracasado,"
echo "  he perdido todo, no tengo esperanza, sin esperanza, sin futuro,"
echo "  insoportable, no veo salida, sin salida, quiero escapar,"
echo "  quiero huir"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "âœ… VALIDACIÃ“N"
echo ""
echo "Para confirmar que todo funciona:"
echo ""
echo "1. Frontend:"
echo "   âœ“ Consola muestra [CRISIS DETECTION]"
echo "   âœ“ Agent responde con contenciÃ³n"
echo ""
echo "2. Backend:"
echo "   âœ“ POST /wp-json/gero/v1/guardar-conversation-state â†’ 200"
echo "   âœ“ Base de datos: byw_agente_retencion"
echo "   âœ“ Campo: prioridad_caso = 'alto'"
echo "   âœ“ Campo: justificacion = '[CRISIS EXTREMA] ...'"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
